/**
 * =============================================================================
 * Auto-Generated Playwright Test
 * =============================================================================
 * 
 * Story:     TI-1
 * Scenario:  Access login page via direct URL
 * ID:        TS-005
 * Generated: 2026-02-13T10:05:34.615285+00:00
 * Generator: Jira QA AI Generator (Agentic Pipeline)
 * 
 * Pipeline:  Story → AC → Scenarios → AutomationEngineer → CodeReviewer → GitOps
 * Review:    Score 9/10
 * 
 * ⚠️  This file was automatically generated by the AI agentic pipeline.
 *     Manual modifications may be overwritten on regeneration.
 * =============================================================================
 */

import { test, expect } from '@playwright/test';

test('Access login page via direct URL', async ({ page }) => {
  // Enter 'https://site.com/login' in the browser address bar.
  await page.goto('https://site.com/login');

  // Expect: Login page with form fields and reassurance elements is displayed.
  
  // Verify the URL is correct
  await expect(page).toHaveURL('https://site.com/login');

  // Verify presence of common login form fields using user-facing locators
  const usernameField = page.getByLabel(/username|email/i).or(page.getByPlaceholder(/username|email/i));
  const passwordField = page.getByLabel(/password/i).or(page.getByPlaceholder(/password/i));
  const loginButton = page.getByRole('button', { name: /log in|login|sign in/i });

  // Assertions for form fields
  // Using .first() in case of multiple matches (e.g., mobile/desktop versions of the same field)
  await expect(usernameField.first()).toBeVisible();
  await expect(passwordField.first()).toBeVisible();
  await expect(loginButton).toBeVisible();

  // Verify reassurance elements (e.g., a heading or specific text)
  const loginHeading = page.getByRole('heading', { name: /log in|sign in/i });
  await expect(loginHeading).toBeVisible();
});
